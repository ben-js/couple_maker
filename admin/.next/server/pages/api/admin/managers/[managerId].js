"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/admin/managers/[managerId]";
exports.ids = ["pages/api/admin/managers/[managerId]"];
exports.modules = {

/***/ "@aws-sdk/client-dynamodb":
/*!*******************************************!*\
  !*** external "@aws-sdk/client-dynamodb" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/client-dynamodb");

/***/ }),

/***/ "@aws-sdk/lib-dynamodb":
/*!****************************************!*\
  !*** external "@aws-sdk/lib-dynamodb" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/lib-dynamodb");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fmanagers%2F%5BmanagerId%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cadmin%5Cmanagers%5C%5BmanagerId%5D.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fmanagers%2F%5BmanagerId%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cadmin%5Cmanagers%5C%5BmanagerId%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_admin_managers_managerId_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\admin\\managers\\[managerId].ts */ \"(api)/./src/pages/api/admin/managers/[managerId].ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_admin_managers_managerId_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_admin_managers_managerId_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/admin/managers/[managerId]\",\n        pathname: \"/api/admin/managers/[managerId]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_admin_managers_managerId_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGbWFuYWdlcnMlMkYlNUJtYW5hZ2VySWQlNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q2FkbWluJTVDbWFuYWdlcnMlNUMlNUJtYW5hZ2VySWQlNUQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDK0U7QUFDL0U7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHVFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx1RUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXRlLXNlbnNlLWFkbWluLz81MjZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcYXBpXFxcXGFkbWluXFxcXG1hbmFnZXJzXFxcXFttYW5hZ2VySWRdLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWRtaW4vbWFuYWdlcnMvW21hbmFnZXJJZF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9tYW5hZ2Vycy9bbWFuYWdlcklkXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fmanagers%2F%5BmanagerId%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cadmin%5Cmanagers%5C%5BmanagerId%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/config/aws.ts":
/*!***************************!*\
  !*** ./src/config/aws.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * AWS 공통 설정\n * @module config/aws\n * @description Admin에서 모든 AWS 서비스에서 공통으로 사용하는 설정\n */ const AWS_CONFIG = {\n    region: \"ap-northeast-2\",\n    credentials: {\n        accessKeyId: \"AKIAU2GJ5ZJPVVVU5C4W\",\n        secretAccessKey: \"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\"\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AWS_CONFIG);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvY29uZmlnL2F3cy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Q0FJQyxHQUlELE1BQU1BLGFBQW1DO0lBQ3ZDQyxRQUFRO0lBQ1JDLGFBQWE7UUFDWEMsYUFBYTtRQUNiQyxpQkFBaUI7SUFDbkI7QUFDRjtBQUVBLGlFQUFlSixVQUFVQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGF0ZS1zZW5zZS1hZG1pbi8uL3NyYy9jb25maWcvYXdzLnRzPzVlNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBV1Mg6rO17Ya1IOyEpOyglVxuICogQG1vZHVsZSBjb25maWcvYXdzXG4gKiBAZGVzY3JpcHRpb24gQWRtaW7sl5DshJwg66qo65OgIEFXUyDshJzruYTsiqTsl5DshJwg6rO17Ya17Jy866GcIOyCrOyaqe2VmOuKlCDshKTsoJVcbiAqL1xuXG5pbXBvcnQgeyBEeW5hbW9EQkNsaWVudENvbmZpZyB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1keW5hbW9kYic7XG5cbmNvbnN0IEFXU19DT05GSUc6IER5bmFtb0RCQ2xpZW50Q29uZmlnID0ge1xuICByZWdpb246ICdhcC1ub3J0aGVhc3QtMicsXG4gIGNyZWRlbnRpYWxzOiB7XG4gICAgYWNjZXNzS2V5SWQ6ICdBS0lBVTJHSjVaSlBWVlZVNUM0VycsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiAnMmtUMy9nK01kdHloZ3NndlEzN1FGVnRFRTVKWWo2a0xOSWZyRExubicsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBV1NfQ09ORklHOyAiXSwibmFtZXMiOlsiQVdTX0NPTkZJRyIsInJlZ2lvbiIsImNyZWRlbnRpYWxzIiwiYWNjZXNzS2V5SWQiLCJzZWNyZXRBY2Nlc3NLZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/config/aws.ts\n");

/***/ }),

/***/ "(api)/./src/lib/dataService.ts":
/*!********************************!*\
  !*** ./src/lib/dataService.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   deleteAllScoreHistory: () => (/* binding */ deleteAllScoreHistory),\n/* harmony export */   dynamodb: () => (/* binding */ dynamodb),\n/* harmony export */   getUserScore: () => (/* binding */ getUserScore),\n/* harmony export */   getUserScoreHistory: () => (/* binding */ getUserScoreHistory),\n/* harmony export */   saveUserScore: () => (/* binding */ saveUserScore)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aws-sdk/client-dynamodb */ \"@aws-sdk/client-dynamodb\");\n/* harmony import */ var _aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aws-sdk/lib-dynamodb */ \"@aws-sdk/lib-dynamodb\");\n/* harmony import */ var _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config_aws__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config/aws */ \"(api)/./src/config/aws.ts\");\n\n\n\n// AWS 설정\nconst client = new _aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0__.DynamoDBClient(_config_aws__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nconst dynamodb = _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.DynamoDBDocumentClient.from(client);\n// DynamoDB 클라이언트를 export하여 다른 모듈에서 사용할 수 있도록 함\n\nclass DataService {\n    // 매니저 계정 관련 메서드\n    async getManagerByEmail(email) {\n        const params = {\n            TableName: \"Managers\",\n            IndexName: \"EmailIndex\",\n            KeyConditionExpression: \"email = :email\",\n            ExpressionAttributeValues: {\n                \":email\": email\n            }\n        };\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.QueryCommand(params));\n            return result.Items?.[0] || null;\n        } catch (error) {\n            console.error(\"매니저 계정 조회 오류:\", error);\n            throw error;\n        }\n    }\n    async getManagerById(managerId) {\n        const params = {\n            TableName: \"Managers\",\n            Key: {\n                id: managerId\n            }\n        };\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.GetCommand(params));\n            return result.Item || null;\n        } catch (error) {\n            console.error(\"매니저 계정 조회 오류:\", error);\n            throw error;\n        }\n    }\n    // 일반 사용자 관련 메서드 (기존 Users 테이블 사용)\n    async getUsers() {\n        const params = {\n            TableName: \"Users\"\n        };\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"사용자 조회 오류:\", error);\n            throw error;\n        }\n    }\n    async getUserById(userId) {\n        console.log(\"DataService.getUserById 호출됨, userId:\", userId);\n        const params = {\n            TableName: \"Users\",\n            Key: {\n                user_id: userId\n            }\n        };\n        console.log(\"DynamoDB 파라미터:\", params);\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.GetCommand(params));\n            console.log(\"DynamoDB 응답:\", result);\n            console.log(\"조회된 사용자:\", result.Item);\n            return result.Item || null;\n        } catch (error) {\n            console.error(\"사용자 조회 오류:\", error);\n            throw error;\n        }\n    }\n    async getProfile(userId) {\n        console.log(\"DataService.getProfile 호출됨, userId:\", userId);\n        const params = {\n            TableName: \"Profiles\",\n            Key: {\n                user_id: userId\n            }\n        };\n        console.log(\"프로필 조회 파라미터:\", params);\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.GetCommand(params));\n            console.log(\"프로필 조회 결과:\", result.Item);\n            return result.Item || null;\n        } catch (error) {\n            console.error(\"프로필 조회 오류:\", error);\n            // 프로필이 없어도 오류로 처리하지 않음\n            return null;\n        }\n    }\n    async getPreferences(userId) {\n        console.log(\"DataService.getPreferences 호출됨, userId:\", userId);\n        const params = {\n            TableName: \"Preferences\",\n            Key: {\n                user_id: userId\n            }\n        };\n        console.log(\"선호도 조회 파라미터:\", params);\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.GetCommand(params));\n            console.log(\"선호도 조회 결과:\", result.Item);\n            return result.Item || null;\n        } catch (error) {\n            console.error(\"선호도 조회 오류:\", error);\n            // 선호도가 없어도 오류로 처리하지 않음\n            return null;\n        }\n    }\n    async updateUserStatus(userId, status, reason) {\n        const params = {\n            TableName: \"Users\",\n            Key: {\n                user_id: userId\n            },\n            UpdateExpression: \"SET #status = :status, updated_at = :updatedAt\",\n            ExpressionAttributeNames: {\n                \"#status\": \"status\"\n            },\n            ExpressionAttributeValues: {\n                \":status\": status,\n                \":updatedAt\": new Date().toISOString()\n            },\n            ReturnValues: \"ALL_NEW\"\n        };\n        if (reason) {\n            params.UpdateExpression += \", delete_reason = :reason\";\n            params.ExpressionAttributeValues[\":reason\"] = reason;\n        }\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.UpdateCommand(params));\n            return result.Attributes || null;\n        } catch (error) {\n            console.error(\"사용자 상태 업데이트 오류:\", error);\n            throw error;\n        }\n    }\n    async updateUserGrade(userId, grade) {\n        const params = {\n            TableName: \"Users\",\n            Key: {\n                user_id: userId\n            },\n            UpdateExpression: \"SET grade = :grade, updated_at = :updatedAt\",\n            ExpressionAttributeValues: {\n                \":grade\": grade,\n                \":updatedAt\": new Date().toISOString()\n            },\n            ReturnValues: \"ALL_NEW\"\n        };\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.UpdateCommand(params));\n            return result.Attributes || null;\n        } catch (error) {\n            console.error(\"사용자 등급 업데이트 오류:\", error);\n            throw error;\n        }\n    }\n    // 매칭 관련 메서드\n    async getMatchingRequests(status) {\n        const params = {\n            TableName: \"MatchingRequests\"\n        };\n        if (status) {\n            params.FilterExpression = \"#status = :status\";\n            params.ExpressionAttributeNames = {\n                \"#status\": \"status\"\n            };\n            params.ExpressionAttributeValues = {\n                \":status\": status\n            };\n        }\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"매칭 요청 조회 오류:\", error);\n            throw error;\n        }\n    }\n    async getProposals(status) {\n        const params = {\n            TableName: \"Proposals\"\n        };\n        if (status) {\n            params.FilterExpression = \"#status = :status\";\n            params.ExpressionAttributeNames = {\n                \"#status\": \"status\"\n            };\n            params.ExpressionAttributeValues = {\n                \":status\": status\n            };\n        }\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"제안 조회 오류:\", error);\n            throw error;\n        }\n    }\n    async getMatchPairs() {\n        const params = {\n            TableName: \"MatchPairs\"\n        };\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"매칭 페어 조회 오류:\", error);\n            throw error;\n        }\n    }\n    async getMatchingHistory() {\n        const params = {\n            TableName: \"MatchingHistory\"\n        };\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"매칭 이력 조회 오류:\", error);\n            throw error;\n        }\n    }\n    async getReviews() {\n        const params = {\n            TableName: \"Reviews\"\n        };\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"리뷰 조회 오류:\", error);\n            throw error;\n        }\n    }\n    // 포인트 관련 메서드\n    async getPointHistory(userId) {\n        const params = {\n            TableName: \"PointHistory\"\n        };\n        if (userId) {\n            params.KeyConditionExpression = \"user_id = :userId\";\n            params.ExpressionAttributeValues = {\n                \":userId\": userId\n            };\n            params.ScanIndexForward = false; // 최신순\n        }\n        try {\n            const result = userId ? await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.QueryCommand(params)) : await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"포인트 내역 조회 오류:\", error);\n            throw error;\n        }\n    }\n    // 사용자 상태 이력 관련 메서드\n    async getUserStatusHistory(userId) {\n        const params = {\n            TableName: \"UserStatusHistory\"\n        };\n        if (userId) {\n            params.KeyConditionExpression = \"user_id = :userId\";\n            params.ExpressionAttributeValues = {\n                \":userId\": userId\n            };\n            params.ScanIndexForward = false; // 최신순\n        }\n        try {\n            const result = userId ? await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.QueryCommand(params)) : await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            return result.Items || [];\n        } catch (error) {\n            console.error(\"사용자 상태 이력 조회 오류:\", error);\n            throw error;\n        }\n    }\n    // 매니저 로그 관련 메서드\n    async logManagerAction(managerId, actionType, targetId, details) {\n        const params = {\n            TableName: \"ManagerLogs\",\n            Item: {\n                id: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n                timestamp: new Date().toISOString(),\n                managerId: managerId,\n                action: actionType,\n                targetId: targetId,\n                details: details\n            }\n        };\n        try {\n            await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.PutCommand(params));\n            console.log(\"✅ 매니저 로그 저장 완료:\", params.Item);\n        } catch (error) {\n            console.error(\"매니저 액션 로그 저장 오류:\", error);\n            throw error;\n        }\n    }\n    async getManagerLogs(limit = 50, managerId, action) {\n        const params = {\n            TableName: \"ManagerLogs\",\n            Limit: limit\n        };\n        if (managerId || action) {\n            params.FilterExpression = [];\n            params.ExpressionAttributeValues = {};\n            if (managerId) {\n                params.FilterExpression.push(\"managerId = :managerId\");\n                params.ExpressionAttributeValues[\":managerId\"] = managerId;\n            }\n            if (action) {\n                params.FilterExpression.push(\"action = :action\");\n                params.ExpressionAttributeValues[\":action\"] = action;\n            }\n            params.FilterExpression = params.FilterExpression.join(\" AND \");\n        }\n        try {\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.ScanCommand(params));\n            const logs = result.Items || [];\n            // 실제 테이블 스키마에 맞게 변환\n            const convertedLogs = logs.map((log)=>({\n                    id: log.id,\n                    manager_id: log.managerId,\n                    action_type: log.action,\n                    target_id: log.targetId,\n                    details: log.details,\n                    created_at: log.timestamp\n                }));\n            return convertedLogs.sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n        } catch (error) {\n            console.error(\"매니저 로그 조회 오류:\", error);\n            throw error;\n        }\n    }\n    // 유틸리티 메서드\n    getTargetType(targetId) {\n        if (targetId.startsWith(\"user_\")) return \"user\";\n        if (targetId.startsWith(\"match_\")) return \"match\";\n        return \"unknown\";\n    }\n    // 대시보드 통계 메서드\n    async getDashboardStats() {\n        try {\n            const [users, matches, points] = await Promise.all([\n                this.getUsers(),\n                this.getMatchingHistory(),\n                this.getPointHistory()\n            ]);\n            const totalUsers = users.length;\n            const activeUsers = users.filter((user)=>user.status === \"active\" || user.status === \"green\").length;\n            const totalMatches = matches.length;\n            const totalPoints = points.reduce((sum, point)=>sum + point.amount, 0);\n            const totalRevenue = points.filter((point)=>point.type === \"charge\" || point.amount > 0).reduce((sum, point)=>sum + Math.abs(point.amount), 0);\n            return {\n                totalUsers,\n                activeUsers,\n                totalMatches,\n                totalPoints,\n                totalRevenue\n            };\n        } catch (error) {\n            console.error(\"대시보드 통계 조회 오류:\", error);\n            throw error;\n        }\n    }\n    // 최근 활동 메서드\n    async getRecentActivities(limit = 10) {\n        try {\n            const [users, matches, points] = await Promise.all([\n                this.getUsers(),\n                this.getMatchingHistory(),\n                this.getPointHistory()\n            ]);\n            const activities = [];\n            // 최근 가입한 사용자들\n            const recentUsers = users.sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime()).slice(0, 3);\n            recentUsers.forEach((user)=>{\n                activities.push({\n                    id: user.user_id,\n                    type: \"user_signup\",\n                    description: `새로운 사용자가 가입했습니다: ${user.email}`,\n                    timestamp: user.created_at,\n                    user: user.email\n                });\n            });\n            // 최근 매칭 활동\n            const recentMatches = matches.sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime()).slice(0, 3);\n            recentMatches.forEach((match)=>{\n                activities.push({\n                    id: match.id,\n                    type: \"matching\",\n                    description: `새로운 매칭이 생성되었습니다: ${match.user1_id} ↔ ${match.user2_id}`,\n                    timestamp: match.created_at,\n                    user: `${match.user1_id}, ${match.user2_id}`\n                });\n            });\n            // 최근 포인트 거래\n            const recentPoints = points.sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime()).slice(0, 3);\n            recentPoints.forEach((point)=>{\n                activities.push({\n                    id: point.id,\n                    type: \"point_transaction\",\n                    description: `포인트 거래: ${point.amount > 0 ? \"+\" : \"\"}${point.amount}P (${point.type})`,\n                    timestamp: point.created_at,\n                    user: point.user_id\n                });\n            });\n            // 모든 활동을 시간순으로 정렬하고 최근 limit개만 반환\n            return activities.sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()).slice(0, limit);\n        } catch (error) {\n            console.error(\"최근 활동 조회 오류:\", error);\n            throw error;\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DataService);\n// Scores 테이블 연동 함수\nasync function saveUserScore(userId, score, scorer, summary = \"\") {\n    const now = new Date().toISOString();\n    // 기존 점수 row 모두 삭제 (user_id로 Query)\n    const existing = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.QueryCommand({\n        TableName: \"Scores\",\n        KeyConditionExpression: \"user_id = :uid\",\n        ExpressionAttributeValues: {\n            \":uid\": userId\n        }\n    }));\n    for (const item of existing.Items || []){\n        await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.DeleteCommand({\n            TableName: \"Scores\",\n            Key: {\n                user_id: item.user_id,\n                created_at: item.created_at\n            }\n        }));\n    }\n    // Scores 테이블: user_id + created_at(=now)로 저장\n    const item = {\n        user_id: userId,\n        created_at: now,\n        scorer,\n        ...score,\n        updated_at: now\n    };\n    await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.PutCommand({\n        TableName: \"Scores\",\n        Item: item\n    }));\n    // Users 테이블에 has_score: true 업데이트\n    await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.UpdateCommand({\n        TableName: \"Users\",\n        Key: {\n            user_id: userId\n        },\n        UpdateExpression: \"SET has_score = :true, updated_at = :updatedAt\",\n        ExpressionAttributeValues: {\n            \":true\": true,\n            \":updatedAt\": now\n        }\n    }));\n    // 점수 저장 전 평균/등급 계산\n    const average = score.appearance * 0.25 + score.personality * 0.25 + score.job * 0.2 + score.education * 0.15 + score.economics * 0.15;\n    function getGrade(score) {\n        if (score >= 95) return \"S\";\n        if (score >= 85) return \"A\";\n        if (score >= 75) return \"B\";\n        if (score >= 65) return \"C\";\n        if (score >= 55) return \"D\";\n        if (score >= 45) return \"E\";\n        return \"F\";\n    }\n    const averageGrade = getGrade(average);\n    // ScoreHistory 테이블에 이력 저장 (평탄화 구조)\n    await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.PutCommand({\n        TableName: \"ScoreHistory\",\n        Item: {\n            user_id: userId,\n            created_at: now,\n            face_score: score.faceScore,\n            appearance: score.appearance,\n            personality: score.personality,\n            job: score.job,\n            education: score.education,\n            economics: score.economics,\n            average,\n            averageGrade,\n            reason: summary,\n            manager_id: scorer\n        }\n    }));\n    // UserStatusHistory에는 점수 이력 저장하지 않음\n    return item;\n}\nasync function getUserScoreHistory(userId) {\n    const params = {\n        TableName: \"UserStatusHistory\",\n        KeyConditionExpression: \"user_id = :uid\",\n        ExpressionAttributeValues: {\n            \":uid\": userId\n        },\n        ScanIndexForward: false\n    };\n    const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.QueryCommand(params));\n    // type이 'score'인 이력만 반환\n    return (result.Items || []).filter((item)=>item.type === \"score\");\n}\nasync function deleteAllScoreHistory(userId) {\n    // 해당 user_id의 모든 ScoreHistory row 삭제\n    const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.QueryCommand({\n        TableName: \"ScoreHistory\",\n        KeyConditionExpression: \"user_id = :uid\",\n        ExpressionAttributeValues: {\n            \":uid\": userId\n        }\n    }));\n    for (const item of result.Items || []){\n        await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.DeleteCommand({\n            TableName: \"ScoreHistory\",\n            Key: {\n                user_id: item.user_id,\n                created_at: item.created_at\n            }\n        }));\n    }\n}\nasync function getUserScore(userId) {\n    const params = {\n        TableName: \"Scores\",\n        KeyConditionExpression: \"user_id = :uid\",\n        ExpressionAttributeValues: {\n            \":uid\": userId\n        },\n        ScanIndexForward: false,\n        Limit: 1\n    };\n    const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.QueryCommand(params));\n    return result.Items?.[0] || null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U1csSUFBSSxDQUFDLElBQUluQiwrREFBWUEsQ0FBQ2E7SUFDcEQsT0FBT0ssT0FBT0UsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGF0ZS1zZW5zZS1hZG1pbi8uL3NyYy9saWIvZGF0YVNlcnZpY2UudHM/ZGQzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEeW5hbW9EQkNsaWVudCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1keW5hbW9kYic7XHJcbmltcG9ydCB7IER5bmFtb0RCRG9jdW1lbnRDbGllbnQsIFF1ZXJ5Q29tbWFuZCwgR2V0Q29tbWFuZCwgU2NhbkNvbW1hbmQsIFVwZGF0ZUNvbW1hbmQsIFB1dENvbW1hbmQsIERlbGV0ZUNvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9saWItZHluYW1vZGInO1xyXG5pbXBvcnQgQVdTX0NPTkZJRyBmcm9tICcuLi9jb25maWcvYXdzJztcclxuaW1wb3J0IHtcclxuICBNYW5hZ2VyLFxyXG4gIFVzZXIsXHJcbiAgTWF0Y2hpbmdSZXF1ZXN0LFxyXG4gIFByb3Bvc2FsLFxyXG4gIE1hdGNoUGFpcixcclxuICBNYXRjaGluZ0hpc3RvcnksXHJcbiAgUG9pbnRIaXN0b3J5LFxyXG4gIFVzZXJTdGF0dXNIaXN0b3J5LFxyXG4gIFJldmlldyxcclxuICBNYW5hZ2VyTG9nLFxyXG4gIERhc2hib2FyZFN0YXRzLFxyXG4gIFJldmlld1N0YXRzLFxyXG59IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgU2NvcmVJbnB1dCwgU2NvcmVSZXN1bHQgfSBmcm9tICcuLi90eXBlcy9zY29yZSc7XHJcblxyXG4vLyBBV1Mg7ISk7KCVXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBEeW5hbW9EQkNsaWVudChBV1NfQ09ORklHKTtcclxuY29uc3QgZHluYW1vZGIgPSBEeW5hbW9EQkRvY3VtZW50Q2xpZW50LmZyb20oY2xpZW50KTtcclxuXHJcbi8vIER5bmFtb0RCIO2BtOudvOydtOyWuO2KuOulvCBleHBvcnTtlZjsl6wg64uk66W4IOuqqOuTiOyXkOyEnCDsgqzsmqntlaAg7IiYIOyeiOuPhOuhnSDtlahcclxuZXhwb3J0IHsgZHluYW1vZGIgfTtcclxuXHJcbmNsYXNzIERhdGFTZXJ2aWNlIHtcclxuICAvLyDrp6Tri4jsoIAg6rOE7KCVIOq0gOugqCDrqZTshJzrk5xcclxuICBhc3luYyBnZXRNYW5hZ2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxNYW5hZ2VyIHwgbnVsbD4ge1xyXG4gICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdNYW5hZ2VycycsXHJcbiAgICAgIEluZGV4TmFtZTogJ0VtYWlsSW5kZXgnLFxyXG4gICAgICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiAnZW1haWwgPSA6ZW1haWwnLFxyXG4gICAgICBFeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzOiB7XHJcbiAgICAgICAgJzplbWFpbCc6IGVtYWlsXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IFF1ZXJ5Q29tbWFuZChwYXJhbXMpKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5JdGVtcz8uWzBdIGFzIE1hbmFnZXIgfHwgbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+unpOuLiOyggCDqs4TsoJUg7KGw7ZqMIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0TWFuYWdlckJ5SWQobWFuYWdlcklkOiBzdHJpbmcpOiBQcm9taXNlPE1hbmFnZXIgfCBudWxsPiB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICAgIFRhYmxlTmFtZTogJ01hbmFnZXJzJyxcclxuICAgICAgS2V5OiB7IGlkOiBtYW5hZ2VySWQgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgR2V0Q29tbWFuZChwYXJhbXMpKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5JdGVtIGFzIE1hbmFnZXIgfHwgbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+unpOuLiOyggCDqs4TsoJUg7KGw7ZqMIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g7J2867CYIOyCrOyaqeyekCDqtIDroKgg66mU7ISc65OcICjquLDsobQgVXNlcnMg7YWM7J2067iUIOyCrOyaqSlcclxuICBhc3luYyBnZXRVc2VycygpOiBQcm9taXNlPFVzZXJbXT4ge1xyXG4gICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdVc2VycydcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IFNjYW5Db21tYW5kKHBhcmFtcykpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0Lkl0ZW1zIGFzIFVzZXJbXSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+yCrOyaqeyekCDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRVc2VyQnlJZCh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICAgIGNvbnNvbGUubG9nKCdEYXRhU2VydmljZS5nZXRVc2VyQnlJZCDtmLjstpzrkKgsIHVzZXJJZDonLCB1c2VySWQpO1xyXG4gICAgXHJcbiAgICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICAgIFRhYmxlTmFtZTogJ1VzZXJzJyxcclxuICAgICAgS2V5OiB7IHVzZXJfaWQ6IHVzZXJJZCB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnRHluYW1vREIg7YyM652866+47YSwOicsIHBhcmFtcyk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IEdldENvbW1hbmQocGFyYW1zKSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdEeW5hbW9EQiDsnZHri7U6JywgcmVzdWx0KTtcclxuICAgICAgY29uc29sZS5sb2coJ+yhsO2ajOuQnCDsgqzsmqnsnpA6JywgcmVzdWx0Lkl0ZW0pO1xyXG4gICAgICByZXR1cm4gcmVzdWx0Lkl0ZW0gYXMgVXNlciB8fCBudWxsO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign7IKs7Jqp7J6QIOyhsO2ajCDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb2ZpbGUodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueSB8IG51bGw+IHtcclxuICAgIGNvbnNvbGUubG9nKCdEYXRhU2VydmljZS5nZXRQcm9maWxlIO2YuOy2nOuQqCwgdXNlcklkOicsIHVzZXJJZCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgICAgVGFibGVOYW1lOiAnUHJvZmlsZXMnLFxyXG4gICAgICBLZXk6IHsgdXNlcl9pZDogdXNlcklkIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCftlITroZztlYQg7KGw7ZqMIO2MjOudvOuvuO2EsDonLCBwYXJhbXMpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBHZXRDb21tYW5kKHBhcmFtcykpO1xyXG4gICAgICBjb25zb2xlLmxvZygn7ZSE66Gc7ZWEIOyhsO2ajCDqsrDqs7w6JywgcmVzdWx0Lkl0ZW0pO1xyXG4gICAgICByZXR1cm4gcmVzdWx0Lkl0ZW0gfHwgbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+2UhOuhnO2VhCDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgLy8g7ZSE66Gc7ZWE7J20IOyXhuyWtOuPhCDsmKTrpZjroZwg7LKY66as7ZWY7KeAIOyViuydjFxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByZWZlcmVuY2VzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XHJcbiAgICBjb25zb2xlLmxvZygnRGF0YVNlcnZpY2UuZ2V0UHJlZmVyZW5jZXMg7Zi47Lac65CoLCB1c2VySWQ6JywgdXNlcklkKTtcclxuICAgIFxyXG4gICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdQcmVmZXJlbmNlcycsXHJcbiAgICAgIEtleTogeyB1c2VyX2lkOiB1c2VySWQgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ+yEoO2YuOuPhCDsobDtmowg7YyM652866+47YSwOicsIHBhcmFtcyk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IEdldENvbW1hbmQocGFyYW1zKSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfshKDtmLjrj4Qg7KGw7ZqMIOqysOqzvDonLCByZXN1bHQuSXRlbSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuSXRlbSB8fCBudWxsO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign7ISg7Zi464+EIOyhsO2ajCDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgICAvLyDshKDtmLjrj4TqsIAg7JeG7Ja064+EIOyYpOulmOuhnCDsspjrpqztlZjsp4Ag7JWK7J2MXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlVXNlclN0YXR1cyh1c2VySWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdVc2VycycsXHJcbiAgICAgIEtleTogeyB1c2VyX2lkOiB1c2VySWQgfSxcclxuICAgICAgVXBkYXRlRXhwcmVzc2lvbjogJ1NFVCAjc3RhdHVzID0gOnN0YXR1cywgdXBkYXRlZF9hdCA9IDp1cGRhdGVkQXQnLFxyXG4gICAgICBFeHByZXNzaW9uQXR0cmlidXRlTmFtZXM6IHtcclxuICAgICAgICAnI3N0YXR1cyc6ICdzdGF0dXMnXHJcbiAgICAgIH0sXHJcbiAgICAgIEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXM6IHtcclxuICAgICAgICAnOnN0YXR1cyc6IHN0YXR1cyxcclxuICAgICAgICAnOnVwZGF0ZWRBdCc6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9LFxyXG4gICAgICBSZXR1cm5WYWx1ZXM6ICdBTExfTkVXJyBhcyBjb25zdFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAocmVhc29uKSB7XHJcbiAgICAgIHBhcmFtcy5VcGRhdGVFeHByZXNzaW9uICs9ICcsIGRlbGV0ZV9yZWFzb24gPSA6cmVhc29uJztcclxuICAgICAgcGFyYW1zLkV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXNbJzpyZWFzb24nXSA9IHJlYXNvbjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgVXBkYXRlQ29tbWFuZChwYXJhbXMpKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5BdHRyaWJ1dGVzIGFzIFVzZXIgfHwgbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+yCrOyaqeyekCDsg4Htg5wg7JeF642w7J207Yq4IOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlVXNlckdyYWRlKHVzZXJJZDogc3RyaW5nLCBncmFkZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xyXG4gICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdVc2VycycsXHJcbiAgICAgIEtleTogeyB1c2VyX2lkOiB1c2VySWQgfSxcclxuICAgICAgVXBkYXRlRXhwcmVzc2lvbjogJ1NFVCBncmFkZSA9IDpncmFkZSwgdXBkYXRlZF9hdCA9IDp1cGRhdGVkQXQnLFxyXG4gICAgICBFeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzOiB7XHJcbiAgICAgICAgJzpncmFkZSc6IGdyYWRlLFxyXG4gICAgICAgICc6dXBkYXRlZEF0JzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0sXHJcbiAgICAgIFJldHVyblZhbHVlczogJ0FMTF9ORVcnIGFzIGNvbnN0XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBVcGRhdGVDb21tYW5kKHBhcmFtcykpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0LkF0dHJpYnV0ZXMgYXMgVXNlciB8fCBudWxsO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign7IKs7Jqp7J6QIOuTseq4iSDsl4XrjbDsnbTtirgg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDrp6Tsua0g6rSA66CoIOuplOyEnOuTnFxyXG4gIGFzeW5jIGdldE1hdGNoaW5nUmVxdWVzdHMoc3RhdHVzPzogc3RyaW5nKTogUHJvbWlzZTxNYXRjaGluZ1JlcXVlc3RbXT4ge1xyXG4gICAgY29uc3QgcGFyYW1zOiBhbnkgPSB7XHJcbiAgICAgIFRhYmxlTmFtZTogJ01hdGNoaW5nUmVxdWVzdHMnXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgcGFyYW1zLkZpbHRlckV4cHJlc3Npb24gPSAnI3N0YXR1cyA9IDpzdGF0dXMnO1xyXG4gICAgICBwYXJhbXMuRXhwcmVzc2lvbkF0dHJpYnV0ZU5hbWVzID0ge1xyXG4gICAgICAgICcjc3RhdHVzJzogJ3N0YXR1cydcclxuICAgICAgfTtcclxuICAgICAgcGFyYW1zLkV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXMgPSB7XHJcbiAgICAgICAgJzpzdGF0dXMnOiBzdGF0dXNcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgU2NhbkNvbW1hbmQocGFyYW1zKSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuSXRlbXMgYXMgTWF0Y2hpbmdSZXF1ZXN0W10gfHwgW107XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfrp6Tsua0g7JqU7LKtIOyhsO2ajCDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFByb3Bvc2FscyhzdGF0dXM/OiBzdHJpbmcpOiBQcm9taXNlPFByb3Bvc2FsW10+IHtcclxuICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdQcm9wb3NhbHMnXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgcGFyYW1zLkZpbHRlckV4cHJlc3Npb24gPSAnI3N0YXR1cyA9IDpzdGF0dXMnO1xyXG4gICAgICBwYXJhbXMuRXhwcmVzc2lvbkF0dHJpYnV0ZU5hbWVzID0ge1xyXG4gICAgICAgICcjc3RhdHVzJzogJ3N0YXR1cydcclxuICAgICAgfTtcclxuICAgICAgcGFyYW1zLkV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXMgPSB7XHJcbiAgICAgICAgJzpzdGF0dXMnOiBzdGF0dXNcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgU2NhbkNvbW1hbmQocGFyYW1zKSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuSXRlbXMgYXMgUHJvcG9zYWxbXSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+ygnOyViCDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRNYXRjaFBhaXJzKCk6IFByb21pc2U8TWF0Y2hQYWlyW10+IHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgICAgVGFibGVOYW1lOiAnTWF0Y2hQYWlycydcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IFNjYW5Db21tYW5kKHBhcmFtcykpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0Lkl0ZW1zIGFzIE1hdGNoUGFpcltdIHx8IFtdO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign66ek7LmtIO2OmOyWtCDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRNYXRjaGluZ0hpc3RvcnkoKTogUHJvbWlzZTxNYXRjaGluZ0hpc3RvcnlbXT4ge1xyXG4gICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdNYXRjaGluZ0hpc3RvcnknXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBTY2FuQ29tbWFuZChwYXJhbXMpKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5JdGVtcyBhcyBNYXRjaGluZ0hpc3RvcnlbXSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+unpOy5rSDsnbTroKUg7KGw7ZqMIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UmV2aWV3cygpOiBQcm9taXNlPFJldmlld1tdPiB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICAgIFRhYmxlTmFtZTogJ1Jldmlld3MnXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBTY2FuQ29tbWFuZChwYXJhbXMpKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5JdGVtcyBhcyBSZXZpZXdbXSB8fCBbXTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+umrOu3sCDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDtj6zsnbjtirgg6rSA66CoIOuplOyEnOuTnFxyXG4gIGFzeW5jIGdldFBvaW50SGlzdG9yeSh1c2VySWQ/OiBzdHJpbmcpOiBQcm9taXNlPFBvaW50SGlzdG9yeVtdPiB7XHJcbiAgICBjb25zdCBwYXJhbXM6IGFueSA9IHtcclxuICAgICAgVGFibGVOYW1lOiAnUG9pbnRIaXN0b3J5J1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodXNlcklkKSB7XHJcbiAgICAgIHBhcmFtcy5LZXlDb25kaXRpb25FeHByZXNzaW9uID0gJ3VzZXJfaWQgPSA6dXNlcklkJztcclxuICAgICAgcGFyYW1zLkV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXMgPSB7XHJcbiAgICAgICAgJzp1c2VySWQnOiB1c2VySWRcclxuICAgICAgfTtcclxuICAgICAgcGFyYW1zLlNjYW5JbmRleEZvcndhcmQgPSBmYWxzZTsgLy8g7LWc7Iug7IicXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHVzZXJJZCBcclxuICAgICAgICA/IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IFF1ZXJ5Q29tbWFuZChwYXJhbXMpKVxyXG4gICAgICAgIDogYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgU2NhbkNvbW1hbmQocGFyYW1zKSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQuSXRlbXMgYXMgUG9pbnRIaXN0b3J5W10gfHwgW107XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCftj6zsnbjtirgg64K07JetIOyhsO2ajCDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOyCrOyaqeyekCDsg4Htg5wg7J2066ClIOq0gOugqCDrqZTshJzrk5xcclxuICBhc3luYyBnZXRVc2VyU3RhdHVzSGlzdG9yeSh1c2VySWQ/OiBzdHJpbmcpOiBQcm9taXNlPFVzZXJTdGF0dXNIaXN0b3J5W10+IHtcclxuICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdVc2VyU3RhdHVzSGlzdG9yeSdcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICBwYXJhbXMuS2V5Q29uZGl0aW9uRXhwcmVzc2lvbiA9ICd1c2VyX2lkID0gOnVzZXJJZCc7XHJcbiAgICAgIHBhcmFtcy5FeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzID0ge1xyXG4gICAgICAgICc6dXNlcklkJzogdXNlcklkXHJcbiAgICAgIH07XHJcbiAgICAgIHBhcmFtcy5TY2FuSW5kZXhGb3J3YXJkID0gZmFsc2U7IC8vIOy1nOyLoOyInFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSB1c2VySWQgXHJcbiAgICAgICAgPyBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBRdWVyeUNvbW1hbmQocGFyYW1zKSlcclxuICAgICAgICA6IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IFNjYW5Db21tYW5kKHBhcmFtcykpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0Lkl0ZW1zIGFzIFVzZXJTdGF0dXNIaXN0b3J5W10gfHwgW107XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfsgqzsmqnsnpAg7IOB7YOcIOydtOugpSDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDrp6Tri4jsoIAg66Gc6re4IOq0gOugqCDrqZTshJzrk5xcclxuICBhc3luYyBsb2dNYW5hZ2VyQWN0aW9uKG1hbmFnZXJJZDogc3RyaW5nLCBhY3Rpb25UeXBlOiBzdHJpbmcsIHRhcmdldElkOiBzdHJpbmcsIGRldGFpbHM6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICBUYWJsZU5hbWU6ICdNYW5hZ2VyTG9ncycsXHJcbiAgICAgIEl0ZW06IHtcclxuICAgICAgICBpZDogYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBtYW5hZ2VySWQ6IG1hbmFnZXJJZCxcclxuICAgICAgICBhY3Rpb246IGFjdGlvblR5cGUsXHJcbiAgICAgICAgdGFyZ2V0SWQ6IHRhcmdldElkLFxyXG4gICAgICAgIGRldGFpbHM6IGRldGFpbHNcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgUHV0Q29tbWFuZChwYXJhbXMpKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSDrp6Tri4jsoIAg66Gc6re4IOyggOyepSDsmYTro4w6JywgcGFyYW1zLkl0ZW0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign66ek64uI7KCAIOyVoeyFmCDroZzqt7gg7KCA7J6lIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0TWFuYWdlckxvZ3MobGltaXQ6IG51bWJlciA9IDUwLCBtYW5hZ2VySWQ/OiBzdHJpbmcsIGFjdGlvbj86IHN0cmluZyk6IFByb21pc2U8TWFuYWdlckxvZ1tdPiB7XHJcbiAgICBjb25zdCBwYXJhbXM6IGFueSA9IHtcclxuICAgICAgVGFibGVOYW1lOiAnTWFuYWdlckxvZ3MnLFxyXG4gICAgICBMaW1pdDogbGltaXRcclxuICAgIH07XHJcblxyXG4gICAgaWYgKG1hbmFnZXJJZCB8fCBhY3Rpb24pIHtcclxuICAgICAgcGFyYW1zLkZpbHRlckV4cHJlc3Npb24gPSBbXTtcclxuICAgICAgcGFyYW1zLkV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXMgPSB7fTtcclxuICAgICAgXHJcbiAgICAgIGlmIChtYW5hZ2VySWQpIHtcclxuICAgICAgICBwYXJhbXMuRmlsdGVyRXhwcmVzc2lvbi5wdXNoKCdtYW5hZ2VySWQgPSA6bWFuYWdlcklkJyk7XHJcbiAgICAgICAgcGFyYW1zLkV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXNbJzptYW5hZ2VySWQnXSA9IG1hbmFnZXJJZDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGFjdGlvbikge1xyXG4gICAgICAgIHBhcmFtcy5GaWx0ZXJFeHByZXNzaW9uLnB1c2goJ2FjdGlvbiA9IDphY3Rpb24nKTtcclxuICAgICAgICBwYXJhbXMuRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlc1snOmFjdGlvbiddID0gYWN0aW9uO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBwYXJhbXMuRmlsdGVyRXhwcmVzc2lvbiA9IHBhcmFtcy5GaWx0ZXJFeHByZXNzaW9uLmpvaW4oJyBBTkQgJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IFNjYW5Db21tYW5kKHBhcmFtcykpO1xyXG4gICAgICBjb25zdCBsb2dzID0gcmVzdWx0Lkl0ZW1zIGFzIGFueVtdIHx8IFtdO1xyXG4gICAgICAvLyDsi6TsoJwg7YWM7J2067iUIOyKpO2CpOuniOyXkCDrp57qsowg67OA7ZmYXHJcbiAgICAgIGNvbnN0IGNvbnZlcnRlZExvZ3M6IE1hbmFnZXJMb2dbXSA9IGxvZ3MubWFwKGxvZyA9PiAoe1xyXG4gICAgICAgIGlkOiBsb2cuaWQsXHJcbiAgICAgICAgbWFuYWdlcl9pZDogbG9nLm1hbmFnZXJJZCxcclxuICAgICAgICBhY3Rpb25fdHlwZTogbG9nLmFjdGlvbixcclxuICAgICAgICB0YXJnZXRfaWQ6IGxvZy50YXJnZXRJZCxcclxuICAgICAgICBkZXRhaWxzOiBsb2cuZGV0YWlscyxcclxuICAgICAgICBjcmVhdGVkX2F0OiBsb2cudGltZXN0YW1wXHJcbiAgICAgIH0pKTtcclxuICAgICAgcmV0dXJuIGNvbnZlcnRlZExvZ3Muc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfrp6Tri4jsoIAg66Gc6re4IOyhsO2ajCDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOycoO2LuOumrO2LsCDrqZTshJzrk5xcclxuICBnZXRUYXJnZXRUeXBlKHRhcmdldElkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKHRhcmdldElkLnN0YXJ0c1dpdGgoJ3VzZXJfJykpIHJldHVybiAndXNlcic7XHJcbiAgICBpZiAodGFyZ2V0SWQuc3RhcnRzV2l0aCgnbWF0Y2hfJykpIHJldHVybiAnbWF0Y2gnO1xyXG4gICAgcmV0dXJuICd1bmtub3duJztcclxuICB9XHJcblxyXG4gIC8vIOuMgOyLnOuztOuTnCDthrXqs4Qg66mU7ISc65OcXHJcbiAgYXN5bmMgZ2V0RGFzaGJvYXJkU3RhdHMoKTogUHJvbWlzZTxEYXNoYm9hcmRTdGF0cz4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgW3VzZXJzLCBtYXRjaGVzLCBwb2ludHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlcnMoKSxcclxuICAgICAgICB0aGlzLmdldE1hdGNoaW5nSGlzdG9yeSgpLFxyXG4gICAgICAgIHRoaXMuZ2V0UG9pbnRIaXN0b3J5KClcclxuICAgICAgXSk7XHJcblxyXG4gICAgICBjb25zdCB0b3RhbFVzZXJzID0gdXNlcnMubGVuZ3RoO1xyXG4gICAgICBjb25zdCBhY3RpdmVVc2VycyA9IHVzZXJzLmZpbHRlcih1c2VyID0+IHVzZXIuc3RhdHVzID09PSAnYWN0aXZlJyB8fCB1c2VyLnN0YXR1cyA9PT0gJ2dyZWVuJykubGVuZ3RoO1xyXG4gICAgICBjb25zdCB0b3RhbE1hdGNoZXMgPSBtYXRjaGVzLmxlbmd0aDtcclxuICAgICAgY29uc3QgdG90YWxQb2ludHMgPSBwb2ludHMucmVkdWNlKChzdW0sIHBvaW50KSA9PiBzdW0gKyBwb2ludC5hbW91bnQsIDApO1xyXG4gICAgICBjb25zdCB0b3RhbFJldmVudWUgPSBwb2ludHNcclxuICAgICAgICAuZmlsdGVyKHBvaW50ID0+IHBvaW50LnR5cGUgPT09ICdjaGFyZ2UnIHx8IHBvaW50LmFtb3VudCA+IDApXHJcbiAgICAgICAgLnJlZHVjZSgoc3VtLCBwb2ludCkgPT4gc3VtICsgTWF0aC5hYnMocG9pbnQuYW1vdW50KSwgMCk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvdGFsVXNlcnMsXHJcbiAgICAgICAgYWN0aXZlVXNlcnMsXHJcbiAgICAgICAgdG90YWxNYXRjaGVzLFxyXG4gICAgICAgIHRvdGFsUG9pbnRzLFxyXG4gICAgICAgIHRvdGFsUmV2ZW51ZVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign64yA7Iuc67O065OcIO2GteqzhCDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDstZzqt7wg7Zmc64+ZIOuplOyEnOuTnFxyXG4gIGFzeW5jIGdldFJlY2VudEFjdGl2aXRpZXMobGltaXQ6IG51bWJlciA9IDEwKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgW3VzZXJzLCBtYXRjaGVzLCBwb2ludHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlcnMoKSxcclxuICAgICAgICB0aGlzLmdldE1hdGNoaW5nSGlzdG9yeSgpLFxyXG4gICAgICAgIHRoaXMuZ2V0UG9pbnRIaXN0b3J5KClcclxuICAgICAgXSk7XHJcblxyXG4gICAgICBjb25zdCBhY3Rpdml0aWVzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgICAgLy8g7LWc6re8IOqwgOyehe2VnCDsgqzsmqnsnpDrk6RcclxuICAgICAgY29uc3QgcmVjZW50VXNlcnMgPSB1c2Vyc1xyXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmNyZWF0ZWRfYXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuY3JlYXRlZF9hdCkuZ2V0VGltZSgpKVxyXG4gICAgICAgIC5zbGljZSgwLCAzKTtcclxuXHJcbiAgICAgIHJlY2VudFVzZXJzLmZvckVhY2godXNlciA9PiB7XHJcbiAgICAgICAgYWN0aXZpdGllcy5wdXNoKHtcclxuICAgICAgICAgIGlkOiB1c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICB0eXBlOiAndXNlcl9zaWdudXAnLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IGDsg4jroZzsmrQg7IKs7Jqp7J6Q6rCAIOqwgOyehe2WiOyKteuLiOuLpDogJHt1c2VyLmVtYWlsfWAsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IHVzZXIuY3JlYXRlZF9hdCxcclxuICAgICAgICAgIHVzZXI6IHVzZXIuZW1haWxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDstZzqt7wg66ek7LmtIO2ZnOuPmVxyXG4gICAgICBjb25zdCByZWNlbnRNYXRjaGVzID0gbWF0Y2hlc1xyXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmNyZWF0ZWRfYXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuY3JlYXRlZF9hdCkuZ2V0VGltZSgpKVxyXG4gICAgICAgIC5zbGljZSgwLCAzKTtcclxuXHJcbiAgICAgIHJlY2VudE1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PiB7XHJcbiAgICAgICAgYWN0aXZpdGllcy5wdXNoKHtcclxuICAgICAgICAgIGlkOiBtYXRjaC5pZCxcclxuICAgICAgICAgIHR5cGU6ICdtYXRjaGluZycsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYOyDiOuhnOyatCDrp6Tsua3snbQg7IOd7ISx65CY7JeI7Iq164uI64ukOiAke21hdGNoLnVzZXIxX2lkfSDihpQgJHttYXRjaC51c2VyMl9pZH1gLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBtYXRjaC5jcmVhdGVkX2F0LFxyXG4gICAgICAgICAgdXNlcjogYCR7bWF0Y2gudXNlcjFfaWR9LCAke21hdGNoLnVzZXIyX2lkfWBcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDstZzqt7wg7Y+s7J247Yq4IOqxsOuemFxyXG4gICAgICBjb25zdCByZWNlbnRQb2ludHMgPSBwb2ludHNcclxuICAgICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKSlcclxuICAgICAgICAuc2xpY2UoMCwgMyk7XHJcblxyXG4gICAgICByZWNlbnRQb2ludHMuZm9yRWFjaChwb2ludCA9PiB7XHJcbiAgICAgICAgYWN0aXZpdGllcy5wdXNoKHtcclxuICAgICAgICAgIGlkOiBwb2ludC5pZCxcclxuICAgICAgICAgIHR5cGU6ICdwb2ludF90cmFuc2FjdGlvbicsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYO2PrOyduO2KuCDqsbDrnpg6ICR7cG9pbnQuYW1vdW50ID4gMCA/ICcrJyA6ICcnfSR7cG9pbnQuYW1vdW50fVAgKCR7cG9pbnQudHlwZX0pYCxcclxuICAgICAgICAgIHRpbWVzdGFtcDogcG9pbnQuY3JlYXRlZF9hdCxcclxuICAgICAgICAgIHVzZXI6IHBvaW50LnVzZXJfaWRcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDrqqjrk6Ag7Zmc64+Z7J2EIOyLnOqwhOyInOycvOuhnCDsoJXroKztlZjqs6Ag7LWc6re8IGxpbWl06rCc66eMIOuwmO2ZmFxyXG4gICAgICByZXR1cm4gYWN0aXZpdGllc1xyXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLnRpbWVzdGFtcCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS50aW1lc3RhbXApLmdldFRpbWUoKSlcclxuICAgICAgICAuc2xpY2UoMCwgbGltaXQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign7LWc6re8IO2ZnOuPmSDsobDtmowg7Jik66WYOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEYXRhU2VydmljZTsgXHJcblxyXG4vLyBTY29yZXMg7YWM7J2067iUIOyXsOuPmSDtlajsiJhcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVVc2VyU2NvcmUodXNlcklkOiBzdHJpbmcsIHNjb3JlOiBhbnksIHNjb3Jlcjogc3RyaW5nLCBzdW1tYXJ5OiBzdHJpbmcgPSAnJykge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAvLyDquLDsobQg7KCQ7IiYIHJvdyDrqqjrkZAg7IKt7KCcICh1c2VyX2lk66GcIFF1ZXJ5KVxyXG4gIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgUXVlcnlDb21tYW5kKHtcclxuICAgIFRhYmxlTmFtZTogJ1Njb3JlcycsXHJcbiAgICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiAndXNlcl9pZCA9IDp1aWQnLFxyXG4gICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczogeyAnOnVpZCc6IHVzZXJJZCB9LFxyXG4gIH0pKTtcclxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgZXhpc3RpbmcuSXRlbXMgfHwgW10pIHtcclxuICAgIGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IERlbGV0ZUNvbW1hbmQoe1xyXG4gICAgICBUYWJsZU5hbWU6ICdTY29yZXMnLFxyXG4gICAgICBLZXk6IHsgdXNlcl9pZDogaXRlbS51c2VyX2lkLCBjcmVhdGVkX2F0OiBpdGVtLmNyZWF0ZWRfYXQgfSxcclxuICAgIH0pKTtcclxuICB9XHJcbiAgLy8gU2NvcmVzIO2FjOydtOu4lDogdXNlcl9pZCArIGNyZWF0ZWRfYXQoPW5vdynroZwg7KCA7J6lXHJcbiAgY29uc3QgaXRlbSA9IHtcclxuICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgIGNyZWF0ZWRfYXQ6IG5vdyxcclxuICAgIHNjb3JlcixcclxuICAgIC4uLnNjb3JlLFxyXG4gICAgdXBkYXRlZF9hdDogbm93LFxyXG4gIH07XHJcbiAgYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgUHV0Q29tbWFuZCh7IFRhYmxlTmFtZTogJ1Njb3JlcycsIEl0ZW06IGl0ZW0gfSkpO1xyXG4gIC8vIFVzZXJzIO2FjOydtOu4lOyXkCBoYXNfc2NvcmU6IHRydWUg7JeF642w7J207Yq4XHJcbiAgYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgVXBkYXRlQ29tbWFuZCh7XHJcbiAgICBUYWJsZU5hbWU6ICdVc2VycycsXHJcbiAgICBLZXk6IHsgdXNlcl9pZDogdXNlcklkIH0sXHJcbiAgICBVcGRhdGVFeHByZXNzaW9uOiAnU0VUIGhhc19zY29yZSA9IDp0cnVlLCB1cGRhdGVkX2F0ID0gOnVwZGF0ZWRBdCcsXHJcbiAgICBFeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzOiB7ICc6dHJ1ZSc6IHRydWUsICc6dXBkYXRlZEF0Jzogbm93IH0sXHJcbiAgfSkpO1xyXG4gIC8vIOygkOyImCDsoIDsnqUg7KCEIO2Pieq3oC/rk7HquIkg6rOE7IKwXHJcbiAgY29uc3QgYXZlcmFnZSA9XHJcbiAgICBzY29yZS5hcHBlYXJhbmNlICogMC4yNSArXHJcbiAgICBzY29yZS5wZXJzb25hbGl0eSAqIDAuMjUgK1xyXG4gICAgc2NvcmUuam9iICogMC4yICtcclxuICAgIHNjb3JlLmVkdWNhdGlvbiAqIDAuMTUgK1xyXG4gICAgc2NvcmUuZWNvbm9taWNzICogMC4xNTtcclxuICBmdW5jdGlvbiBnZXRHcmFkZShzY29yZTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGlmIChzY29yZSA+PSA5NSkgcmV0dXJuICdTJztcclxuICAgIGlmIChzY29yZSA+PSA4NSkgcmV0dXJuICdBJztcclxuICAgIGlmIChzY29yZSA+PSA3NSkgcmV0dXJuICdCJztcclxuICAgIGlmIChzY29yZSA+PSA2NSkgcmV0dXJuICdDJztcclxuICAgIGlmIChzY29yZSA+PSA1NSkgcmV0dXJuICdEJztcclxuICAgIGlmIChzY29yZSA+PSA0NSkgcmV0dXJuICdFJztcclxuICAgIHJldHVybiAnRic7XHJcbiAgfVxyXG4gIGNvbnN0IGF2ZXJhZ2VHcmFkZSA9IGdldEdyYWRlKGF2ZXJhZ2UpO1xyXG4gIC8vIFNjb3JlSGlzdG9yeSDthYzsnbTruJTsl5Ag7J2066ClIOyggOyepSAo7Y+J7YOE7ZmUIOq1rOyhsClcclxuICBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBQdXRDb21tYW5kKHtcclxuICAgIFRhYmxlTmFtZTogJ1Njb3JlSGlzdG9yeScsXHJcbiAgICBJdGVtOiB7XHJcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgY3JlYXRlZF9hdDogbm93LFxyXG4gICAgICBmYWNlX3Njb3JlOiBzY29yZS5mYWNlU2NvcmUsXHJcbiAgICAgIGFwcGVhcmFuY2U6IHNjb3JlLmFwcGVhcmFuY2UsXHJcbiAgICAgIHBlcnNvbmFsaXR5OiBzY29yZS5wZXJzb25hbGl0eSxcclxuICAgICAgam9iOiBzY29yZS5qb2IsXHJcbiAgICAgIGVkdWNhdGlvbjogc2NvcmUuZWR1Y2F0aW9uLFxyXG4gICAgICBlY29ub21pY3M6IHNjb3JlLmVjb25vbWljcyxcclxuICAgICAgYXZlcmFnZSxcclxuICAgICAgYXZlcmFnZUdyYWRlLFxyXG4gICAgICByZWFzb246IHN1bW1hcnksXHJcbiAgICAgIG1hbmFnZXJfaWQ6IHNjb3JlcixcclxuICAgIH1cclxuICB9KSk7XHJcbiAgLy8gVXNlclN0YXR1c0hpc3Rvcnnsl5DripQg7KCQ7IiYIOydtOugpSDsoIDsnqXtlZjsp4Ag7JWK7J2MXHJcbiAgcmV0dXJuIGl0ZW07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyU2NvcmVIaXN0b3J5KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgIFRhYmxlTmFtZTogJ1VzZXJTdGF0dXNIaXN0b3J5JyxcclxuICAgIEtleUNvbmRpdGlvbkV4cHJlc3Npb246ICd1c2VyX2lkID0gOnVpZCcsXHJcbiAgICBFeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzOiB7ICc6dWlkJzogdXNlcklkIH0sXHJcbiAgICBTY2FuSW5kZXhGb3J3YXJkOiBmYWxzZSwgLy8g7LWc7Iug7IicIOygleugrFxyXG4gIH07XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgUXVlcnlDb21tYW5kKHBhcmFtcykpO1xyXG4gIC8vIHR5cGXsnbQgJ3Njb3JlJ+yduCDsnbTroKXrp4wg67CY7ZmYXHJcbiAgcmV0dXJuIChyZXN1bHQuSXRlbXMgfHwgW10pLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSA9PT0gJ3Njb3JlJyk7XHJcbn0gXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQWxsU2NvcmVIaXN0b3J5KHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgLy8g7ZW064u5IHVzZXJfaWTsnZgg66qo65OgIFNjb3JlSGlzdG9yeSByb3cg7IKt7KCcXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vZGIuc2VuZChuZXcgUXVlcnlDb21tYW5kKHtcclxuICAgIFRhYmxlTmFtZTogJ1Njb3JlSGlzdG9yeScsXHJcbiAgICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiAndXNlcl9pZCA9IDp1aWQnLFxyXG4gICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczogeyAnOnVpZCc6IHVzZXJJZCB9LFxyXG4gIH0pKTtcclxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0Lkl0ZW1zIHx8IFtdKSB7XHJcbiAgICBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBEZWxldGVDb21tYW5kKHtcclxuICAgICAgVGFibGVOYW1lOiAnU2NvcmVIaXN0b3J5JyxcclxuICAgICAgS2V5OiB7IHVzZXJfaWQ6IGl0ZW0udXNlcl9pZCwgY3JlYXRlZF9hdDogaXRlbS5jcmVhdGVkX2F0IH0sXHJcbiAgICB9KSk7XHJcbiAgfVxyXG59IFxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJTY29yZSh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8YW55IHwgbnVsbD4ge1xyXG4gIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgIFRhYmxlTmFtZTogJ1Njb3JlcycsXHJcbiAgICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiAndXNlcl9pZCA9IDp1aWQnLFxyXG4gICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczogeyAnOnVpZCc6IHVzZXJJZCB9LFxyXG4gICAgU2NhbkluZGV4Rm9yd2FyZDogZmFsc2UsIC8vIOy1nOyLoOyInFxyXG4gICAgTGltaXQ6IDEsXHJcbiAgfTtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBRdWVyeUNvbW1hbmQocGFyYW1zKSk7XHJcbiAgcmV0dXJuIHJlc3VsdC5JdGVtcz8uWzBdIHx8IG51bGw7XHJcbn0gIl0sIm5hbWVzIjpbIkR5bmFtb0RCQ2xpZW50IiwiRHluYW1vREJEb2N1bWVudENsaWVudCIsIlF1ZXJ5Q29tbWFuZCIsIkdldENvbW1hbmQiLCJTY2FuQ29tbWFuZCIsIlVwZGF0ZUNvbW1hbmQiLCJQdXRDb21tYW5kIiwiRGVsZXRlQ29tbWFuZCIsIkFXU19DT05GSUciLCJjbGllbnQiLCJkeW5hbW9kYiIsImZyb20iLCJEYXRhU2VydmljZSIsImdldE1hbmFnZXJCeUVtYWlsIiwiZW1haWwiLCJwYXJhbXMiLCJUYWJsZU5hbWUiLCJJbmRleE5hbWUiLCJLZXlDb25kaXRpb25FeHByZXNzaW9uIiwiRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlcyIsInJlc3VsdCIsInNlbmQiLCJJdGVtcyIsImVycm9yIiwiY29uc29sZSIsImdldE1hbmFnZXJCeUlkIiwibWFuYWdlcklkIiwiS2V5IiwiaWQiLCJJdGVtIiwiZ2V0VXNlcnMiLCJnZXRVc2VyQnlJZCIsInVzZXJJZCIsImxvZyIsInVzZXJfaWQiLCJnZXRQcm9maWxlIiwiZ2V0UHJlZmVyZW5jZXMiLCJ1cGRhdGVVc2VyU3RhdHVzIiwic3RhdHVzIiwicmVhc29uIiwiVXBkYXRlRXhwcmVzc2lvbiIsIkV4cHJlc3Npb25BdHRyaWJ1dGVOYW1lcyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIlJldHVyblZhbHVlcyIsIkF0dHJpYnV0ZXMiLCJ1cGRhdGVVc2VyR3JhZGUiLCJncmFkZSIsImdldE1hdGNoaW5nUmVxdWVzdHMiLCJGaWx0ZXJFeHByZXNzaW9uIiwiZ2V0UHJvcG9zYWxzIiwiZ2V0TWF0Y2hQYWlycyIsImdldE1hdGNoaW5nSGlzdG9yeSIsImdldFJldmlld3MiLCJnZXRQb2ludEhpc3RvcnkiLCJTY2FuSW5kZXhGb3J3YXJkIiwiZ2V0VXNlclN0YXR1c0hpc3RvcnkiLCJsb2dNYW5hZ2VyQWN0aW9uIiwiYWN0aW9uVHlwZSIsInRhcmdldElkIiwiZGV0YWlscyIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInRpbWVzdGFtcCIsImFjdGlvbiIsImdldE1hbmFnZXJMb2dzIiwibGltaXQiLCJMaW1pdCIsInB1c2giLCJqb2luIiwibG9ncyIsImNvbnZlcnRlZExvZ3MiLCJtYXAiLCJtYW5hZ2VyX2lkIiwiYWN0aW9uX3R5cGUiLCJ0YXJnZXRfaWQiLCJjcmVhdGVkX2F0Iiwic29ydCIsImEiLCJiIiwiZ2V0VGltZSIsImdldFRhcmdldFR5cGUiLCJzdGFydHNXaXRoIiwiZ2V0RGFzaGJvYXJkU3RhdHMiLCJ1c2VycyIsIm1hdGNoZXMiLCJwb2ludHMiLCJQcm9taXNlIiwiYWxsIiwidG90YWxVc2VycyIsImxlbmd0aCIsImFjdGl2ZVVzZXJzIiwiZmlsdGVyIiwidXNlciIsInRvdGFsTWF0Y2hlcyIsInRvdGFsUG9pbnRzIiwicmVkdWNlIiwic3VtIiwicG9pbnQiLCJhbW91bnQiLCJ0b3RhbFJldmVudWUiLCJ0eXBlIiwiYWJzIiwiZ2V0UmVjZW50QWN0aXZpdGllcyIsImFjdGl2aXRpZXMiLCJyZWNlbnRVc2VycyIsInNsaWNlIiwiZm9yRWFjaCIsImRlc2NyaXB0aW9uIiwicmVjZW50TWF0Y2hlcyIsIm1hdGNoIiwidXNlcjFfaWQiLCJ1c2VyMl9pZCIsInJlY2VudFBvaW50cyIsInNhdmVVc2VyU2NvcmUiLCJzY29yZSIsInNjb3JlciIsInN1bW1hcnkiLCJleGlzdGluZyIsIml0ZW0iLCJ1cGRhdGVkX2F0IiwiYXZlcmFnZSIsImFwcGVhcmFuY2UiLCJwZXJzb25hbGl0eSIsImpvYiIsImVkdWNhdGlvbiIsImVjb25vbWljcyIsImdldEdyYWRlIiwiYXZlcmFnZUdyYWRlIiwiZmFjZV9zY29yZSIsImZhY2VTY29yZSIsImdldFVzZXJTY29yZUhpc3RvcnkiLCJkZWxldGVBbGxTY29yZUhpc3RvcnkiLCJnZXRVc2VyU2NvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/dataService.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/admin/managers/[managerId].ts":
/*!*****************************************************!*\
  !*** ./src/pages/api/admin/managers/[managerId].ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aws-sdk/client-dynamodb */ \"@aws-sdk/client-dynamodb\");\n/* harmony import */ var _aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aws-sdk/lib-dynamodb */ \"@aws-sdk/lib-dynamodb\");\n/* harmony import */ var _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config_aws__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config/aws */ \"(api)/./src/config/aws.ts\");\n/* harmony import */ var _lib_dataService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/dataService */ \"(api)/./src/lib/dataService.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst JWT_SECRET = \"dev_jwt_secret_key_here\"; // login.ts와 동일한 시크릿 키\nfunction getDefaultPermissions(role) {\n    const basePermissions = {\n        user_management: {\n            read: false,\n            write: false,\n            delete: false\n        },\n        matching_management: {\n            read: false,\n            write: false,\n            delete: false\n        },\n        review_management: {\n            read: false,\n            write: false,\n            delete: false\n        },\n        point_management: {\n            read: false,\n            write: false,\n            delete: false\n        },\n        manager_management: {\n            read: false,\n            write: false,\n            delete: false\n        },\n        manager_logs: {\n            read: false,\n            write: false,\n            delete: false\n        },\n        dashboard: {\n            read: false,\n            write: false,\n            delete: false\n        }\n    };\n    switch(role){\n        case \"admin\":\n            return Object.keys(basePermissions).reduce((acc, key)=>{\n                acc[key] = {\n                    read: true,\n                    write: true,\n                    delete: true\n                };\n                return acc;\n            }, {});\n        case \"manager\":\n            return {\n                ...basePermissions,\n                user_management: {\n                    read: true,\n                    write: true,\n                    delete: false\n                },\n                matching_management: {\n                    read: true,\n                    write: true,\n                    delete: false\n                },\n                point_management: {\n                    read: true,\n                    write: true,\n                    delete: false\n                },\n                manager_logs: {\n                    read: false,\n                    write: false,\n                    delete: false\n                },\n                dashboard: {\n                    read: true,\n                    write: false,\n                    delete: false\n                }\n            };\n        case \"support\":\n            return {\n                ...basePermissions,\n                user_management: {\n                    read: true,\n                    write: false,\n                    delete: false\n                },\n                matching_management: {\n                    read: true,\n                    write: false,\n                    delete: false\n                },\n                dashboard: {\n                    read: true,\n                    write: false,\n                    delete: false\n                }\n            };\n        default:\n            return basePermissions;\n    }\n}\n// AWS 설정\nconst client = new _aws_sdk_client_dynamodb__WEBPACK_IMPORTED_MODULE_0__.DynamoDBClient(_config_aws__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nconst dynamodb = _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.DynamoDBDocumentClient.from(client);\nconst dataService = new _lib_dataService__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nasync function handler(req, res) {\n    const { managerId } = req.query;\n    if (!managerId || typeof managerId !== \"string\") {\n        return res.status(400).json({\n            message: \"Manager ID is required\"\n        });\n    }\n    try {\n        // 개발 환경에서는 권한 검증 완화\n        if (true) {\n            console.log(\"\\uD83D\\uDD27 개발 환경: 권한 검증 건너뜀\");\n        } else {}\n        if (req.method === \"GET\") {\n            console.log(`Admin: 매니저 ${managerId} 조회 시작`);\n            const params = {\n                TableName: \"Managers\",\n                Key: {\n                    id: managerId\n                }\n            };\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.GetCommand(params));\n            if (!result.Item) {\n                console.log(`매니저 ${managerId}를 찾을 수 없습니다.`);\n                return res.status(404).json({\n                    message: \"Manager not found\"\n                });\n            }\n            const manager = {\n                id: result.Item.id || \"\",\n                email: result.Item.email || \"\",\n                name: result.Item.name || \"\",\n                role: result.Item.role || \"manager\",\n                status: result.Item.status || \"active\",\n                permissions: result.Item.permissions || getDefaultPermissions(result.Item.role || \"manager\"),\n                created_at: result.Item.createdAt || result.Item.created_at || new Date().toISOString(),\n                updated_at: result.Item.updatedAt || result.Item.updated_at || new Date().toISOString()\n            };\n            console.log(`Admin: 매니저 ${managerId} 조회 완료`);\n            res.status(200).json(manager);\n        } else if (req.method === \"PATCH\") {\n            console.log(`Admin: 매니저 ${managerId} 업데이트 시작`);\n            // 권한 검증 (자신의 이름만 변경하는 경우는 제외)\n            const updateFields = req.body;\n            const isOnlyNameUpdate = Object.keys(updateFields).length === 1 && updateFields.name;\n            if (!isOnlyNameUpdate) {\n                // 개발 환경에서는 권한 검증 완화\n                if (true) {\n                    console.log(\"\\uD83D\\uDD27 개발 환경: 권한 검증 건너뜀\");\n                } else {}\n            } else {\n                console.log(\"\\uD83D\\uDD27 자신의 이름 변경: 권한 검증 건너뜀\");\n            }\n            const updateParams = {\n                TableName: \"Managers\",\n                Key: {\n                    id: managerId\n                },\n                UpdateExpression: \"SET updatedAt = :updated_at\",\n                ExpressionAttributeValues: {\n                    \":updated_at\": new Date().toISOString()\n                },\n                ExpressionAttributeNames: {}\n            };\n            if (updateFields.name) {\n                updateParams.UpdateExpression += \", #name = :name\";\n                updateParams.ExpressionAttributeNames[\"#name\"] = \"name\";\n                updateParams.ExpressionAttributeValues[\":name\"] = updateFields.name;\n            }\n            if (updateFields.email) {\n                updateParams.UpdateExpression += \", email = :email\";\n                updateParams.ExpressionAttributeValues[\":email\"] = updateFields.email;\n            }\n            if (updateFields.role) {\n                updateParams.UpdateExpression += \", role = :role\";\n                updateParams.ExpressionAttributeValues[\":role\"] = updateFields.role;\n            }\n            if (updateFields.permissions) {\n                updateParams.UpdateExpression += \", #perms = :permissions\";\n                updateParams.ExpressionAttributeNames[\"#perms\"] = \"permissions\";\n                updateParams.ExpressionAttributeValues[\":permissions\"] = updateFields.permissions;\n            }\n            await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.UpdateCommand(updateParams));\n            // 업데이트된 데이터 조회\n            const getParams = {\n                TableName: \"Managers\",\n                Key: {\n                    id: managerId\n                }\n            };\n            const result = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.GetCommand(getParams));\n            if (!result.Item) {\n                return res.status(404).json({\n                    message: \"Manager not found\"\n                });\n            }\n            const manager = {\n                id: result.Item.id || \"\",\n                email: result.Item.email || \"\",\n                name: result.Item.name || \"\",\n                role: result.Item.role || \"manager\",\n                status: result.Item.status || \"active\",\n                permissions: result.Item.permissions || getDefaultPermissions(result.Item.role || \"manager\"),\n                created_at: result.Item.createdAt || result.Item.created_at || new Date().toISOString(),\n                updated_at: result.Item.updatedAt || result.Item.updated_at || new Date().toISOString()\n            };\n            console.log(`Admin: 매니저 ${managerId} 업데이트 완료`);\n            res.status(200).json(manager);\n        } else if (req.method === \"DELETE\") {\n            console.log(`Admin: 매니저 ${managerId} 삭제 시작`);\n            // 삭제할 매니저 정보 조회\n            const getParams = {\n                TableName: \"Managers\",\n                Key: {\n                    id: managerId\n                }\n            };\n            const managerResult = await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.GetCommand(getParams));\n            if (!managerResult.Item) {\n                return res.status(404).json({\n                    message: \"Manager not found\"\n                });\n            }\n            const managerToDelete = managerResult.Item;\n            // 매니저 삭제\n            const deleteParams = {\n                TableName: \"Managers\",\n                Key: {\n                    id: managerId\n                }\n            };\n            await dynamodb.send(new _aws_sdk_lib_dynamodb__WEBPACK_IMPORTED_MODULE_1__.DeleteCommand(deleteParams));\n            // 로그 기록\n            try {\n                const authHeader = req.headers.authorization;\n                if (authHeader && authHeader.startsWith(\"Bearer \")) {\n                    const token = authHeader.substring(7);\n                    // 토큰에서 매니저 ID 추출 (실제로는 JWT 디코딩 필요)\n                    const currentManagerId = \"admin\"; // 임시로 admin으로 설정\n                    await dataService.logManagerAction(currentManagerId, \"manager_delete\", managerId, `매니저 삭제: ${managerToDelete.name} (${managerToDelete.email})`);\n                }\n            } catch (logError) {\n                console.error(\"로그 기록 실패:\", logError);\n            // 로그 기록 실패해도 삭제는 계속 진행\n            }\n            console.log(`Admin: 매니저 ${managerId} 삭제 완료`);\n            res.status(200).json({\n                message: \"Manager deleted successfully\"\n            });\n        } else {\n            res.status(405).json({\n                message: \"Method not allowed\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Admin: 매니저 관리 오류:\", error);\n        res.status(500).json({\n            message: \"매니저 관리 중 오류가 발생했습니다.\",\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2FkbWluL21hbmFnZXJzL1ttYW5hZ2VySWRdLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUMwRDtBQUMrQztBQUN6RDtBQUNNO0FBQ3ZCO0FBRS9CLE1BQU1RLGFBQWEsMkJBQTJCLHNCQUFzQjtBQUVwRSxTQUFTQyxzQkFBc0JDLElBQVk7SUFDekMsTUFBTUMsa0JBQWtCO1FBQ3RCQyxpQkFBaUI7WUFBRUMsTUFBTTtZQUFPQyxPQUFPO1lBQU9DLFFBQVE7UUFBTTtRQUM1REMscUJBQXFCO1lBQUVILE1BQU07WUFBT0MsT0FBTztZQUFPQyxRQUFRO1FBQU07UUFDaEVFLG1CQUFtQjtZQUFFSixNQUFNO1lBQU9DLE9BQU87WUFBT0MsUUFBUTtRQUFNO1FBQzlERyxrQkFBa0I7WUFBRUwsTUFBTTtZQUFPQyxPQUFPO1lBQU9DLFFBQVE7UUFBTTtRQUM3REksb0JBQW9CO1lBQUVOLE1BQU07WUFBT0MsT0FBTztZQUFPQyxRQUFRO1FBQU07UUFDL0RLLGNBQWM7WUFBRVAsTUFBTTtZQUFPQyxPQUFPO1lBQU9DLFFBQVE7UUFBTTtRQUN6RE0sV0FBVztZQUFFUixNQUFNO1lBQU9DLE9BQU87WUFBT0MsUUFBUTtRQUFNO0lBQ3hEO0lBRUEsT0FBUUw7UUFDTixLQUFLO1lBQ0gsT0FBT1ksT0FBT0MsSUFBSSxDQUFDWixpQkFBaUJhLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQztnQkFDL0NELEdBQUcsQ0FBQ0MsSUFBSSxHQUFHO29CQUFFYixNQUFNO29CQUFNQyxPQUFPO29CQUFNQyxRQUFRO2dCQUFLO2dCQUNuRCxPQUFPVTtZQUNULEdBQUcsQ0FBQztRQUNOLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdkLGVBQWU7Z0JBQ2xCQyxpQkFBaUI7b0JBQUVDLE1BQU07b0JBQU1DLE9BQU87b0JBQU1DLFFBQVE7Z0JBQU07Z0JBQzFEQyxxQkFBcUI7b0JBQUVILE1BQU07b0JBQU1DLE9BQU87b0JBQU1DLFFBQVE7Z0JBQU07Z0JB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QU82QixVQUFVO2dCQUNqQjVDLFFBQVE2QyxLQUFLLENBQUMsYUFBYUQ7WUFDM0IsdUJBQXVCO1lBQ3pCO1lBRUE1QyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUVQLFVBQVUsTUFBTSxDQUFDO1lBQzNDRCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO1lBQStCO1FBRWpFLE9BQU87WUFDTEwsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztZQUFxQjtRQUN2RDtJQUNGLEVBQUUsT0FBTytDLE9BQU87UUFDZDdDLFFBQVE2QyxLQUFLLENBQUMscUJBQXFCQTtRQUNuQ3BELElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVCtDLE9BQU9BLGlCQUFpQkMsUUFBUUQsTUFBTS9DLE9BQU8sR0FBRztRQUNsRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXRlLXNlbnNlLWFkbWluLy4vc3JjL3BhZ2VzL2FwaS9hZG1pbi9tYW5hZ2Vycy9bbWFuYWdlcklkXS50cz83N2ZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgRHluYW1vREJDbGllbnQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtZHluYW1vZGInO1xyXG5pbXBvcnQgeyBEeW5hbW9EQkRvY3VtZW50Q2xpZW50LCBHZXRDb21tYW5kLCBVcGRhdGVDb21tYW5kLCBEZWxldGVDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvbGliLWR5bmFtb2RiJztcclxuaW1wb3J0IEFXU19DT05GSUcgZnJvbSAnLi4vLi4vLi4vLi4vY29uZmlnL2F3cyc7XHJcbmltcG9ydCBEYXRhU2VydmljZSBmcm9tICcuLi8uLi8uLi8uLi9saWIvZGF0YVNlcnZpY2UnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gJ2Rldl9qd3Rfc2VjcmV0X2tleV9oZXJlJzsgLy8gbG9naW4udHPsmYAg64+Z7J287ZWcIOyLnO2BrOumvyDtgqRcclxuXHJcbmZ1bmN0aW9uIGdldERlZmF1bHRQZXJtaXNzaW9ucyhyb2xlOiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPj4ge1xyXG4gIGNvbnN0IGJhc2VQZXJtaXNzaW9ucyA9IHtcclxuICAgIHVzZXJfbWFuYWdlbWVudDogeyByZWFkOiBmYWxzZSwgd3JpdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlIH0sXHJcbiAgICBtYXRjaGluZ19tYW5hZ2VtZW50OiB7IHJlYWQ6IGZhbHNlLCB3cml0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfSxcclxuICAgIHJldmlld19tYW5hZ2VtZW50OiB7IHJlYWQ6IGZhbHNlLCB3cml0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfSxcclxuICAgIHBvaW50X21hbmFnZW1lbnQ6IHsgcmVhZDogZmFsc2UsIHdyaXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSB9LFxyXG4gICAgbWFuYWdlcl9tYW5hZ2VtZW50OiB7IHJlYWQ6IGZhbHNlLCB3cml0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfSxcclxuICAgIG1hbmFnZXJfbG9nczogeyByZWFkOiBmYWxzZSwgd3JpdGU6IGZhbHNlLCBkZWxldGU6IGZhbHNlIH0sXHJcbiAgICBkYXNoYm9hcmQ6IHsgcmVhZDogZmFsc2UsIHdyaXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSB9XHJcbiAgfTtcclxuXHJcbiAgc3dpdGNoIChyb2xlKSB7XHJcbiAgICBjYXNlICdhZG1pbic6XHJcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhiYXNlUGVybWlzc2lvbnMpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcclxuICAgICAgICBhY2Nba2V5XSA9IHsgcmVhZDogdHJ1ZSwgd3JpdGU6IHRydWUsIGRlbGV0ZTogdHJ1ZSB9O1xyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pik7XHJcbiAgICBjYXNlICdtYW5hZ2VyJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5iYXNlUGVybWlzc2lvbnMsXHJcbiAgICAgICAgdXNlcl9tYW5hZ2VtZW50OiB7IHJlYWQ6IHRydWUsIHdyaXRlOiB0cnVlLCBkZWxldGU6IGZhbHNlIH0sXHJcbiAgICAgICAgbWF0Y2hpbmdfbWFuYWdlbWVudDogeyByZWFkOiB0cnVlLCB3cml0ZTogdHJ1ZSwgZGVsZXRlOiBmYWxzZSB9LFxyXG4gICAgICAgIHBvaW50X21hbmFnZW1lbnQ6IHsgcmVhZDogdHJ1ZSwgd3JpdGU6IHRydWUsIGRlbGV0ZTogZmFsc2UgfSxcclxuICAgICAgICBtYW5hZ2VyX2xvZ3M6IHsgcmVhZDogZmFsc2UsIHdyaXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSB9LFxyXG4gICAgICAgIGRhc2hib2FyZDogeyByZWFkOiB0cnVlLCB3cml0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfVxyXG4gICAgICB9O1xyXG4gICAgY2FzZSAnc3VwcG9ydCc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uYmFzZVBlcm1pc3Npb25zLFxyXG4gICAgICAgIHVzZXJfbWFuYWdlbWVudDogeyByZWFkOiB0cnVlLCB3cml0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfSxcclxuICAgICAgICBtYXRjaGluZ19tYW5hZ2VtZW50OiB7IHJlYWQ6IHRydWUsIHdyaXRlOiBmYWxzZSwgZGVsZXRlOiBmYWxzZSB9LFxyXG4gICAgICAgIGRhc2hib2FyZDogeyByZWFkOiB0cnVlLCB3cml0ZTogZmFsc2UsIGRlbGV0ZTogZmFsc2UgfVxyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIGJhc2VQZXJtaXNzaW9ucztcclxuICB9XHJcbn1cclxuXHJcbi8vIEFXUyDshKTsoJVcclxuY29uc3QgY2xpZW50ID0gbmV3IER5bmFtb0RCQ2xpZW50KEFXU19DT05GSUcpO1xyXG5jb25zdCBkeW5hbW9kYiA9IER5bmFtb0RCRG9jdW1lbnRDbGllbnQuZnJvbShjbGllbnQpO1xyXG5jb25zdCBkYXRhU2VydmljZSA9IG5ldyBEYXRhU2VydmljZSgpO1xyXG5cclxuaW50ZXJmYWNlIE1hbmFnZXIge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgcm9sZTogc3RyaW5nO1xyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuICB1cGRhdGVkX2F0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZTxNYW5hZ2VyIHwgeyBtZXNzYWdlOiBzdHJpbmc7IGVycm9yPzogc3RyaW5nIH0+XHJcbikge1xyXG4gIGNvbnN0IHsgbWFuYWdlcklkIH0gPSByZXEucXVlcnk7XHJcblxyXG4gIGlmICghbWFuYWdlcklkIHx8IHR5cGVvZiBtYW5hZ2VySWQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnTWFuYWdlciBJRCBpcyByZXF1aXJlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8g6rCc67CcIO2ZmOqyveyXkOyEnOuKlCDqtoztlZwg6rKA7KadIOyZhO2ZlFxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SnIOqwnOuwnCDtmZjqsr06IOq2jO2VnCDqsoDspp0g6rG064SI65yAJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBBZG1pbiDqtoztlZwg7ZmV7J24IChhZG1pbiDsl63tlaDsnYQg6rCA7KeEIE1hbmFnZXLrp4wg7KCR6re8IOqwgOuKpSlcclxuICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICAgIGlmICghYXV0aEhlYWRlciB8fCAhYXV0aEhlYWRlci5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xyXG4gICAgICBjb25zb2xlLmxvZyhgQWRtaW46IOunpOuLiOyggCAke21hbmFnZXJJZH0g7KGw7ZqMIOyLnOyekWApO1xyXG5cclxuICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgIFRhYmxlTmFtZTogJ01hbmFnZXJzJyxcclxuICAgICAgICBLZXk6IHsgaWQ6IG1hbmFnZXJJZCB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkeW5hbW9kYi5zZW5kKG5ldyBHZXRDb21tYW5kKHBhcmFtcykpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFyZXN1bHQuSXRlbSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDrp6Tri4jsoIAgJHttYW5hZ2VySWR966W8IOywvuydhCDsiJgg7JeG7Iq164uI64ukLmApO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdNYW5hZ2VyIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG1hbmFnZXIgPSB7XHJcbiAgICAgICAgaWQ6IHJlc3VsdC5JdGVtLmlkIHx8ICcnLFxyXG4gICAgICAgIGVtYWlsOiByZXN1bHQuSXRlbS5lbWFpbCB8fCAnJyxcclxuICAgICAgICBuYW1lOiByZXN1bHQuSXRlbS5uYW1lIHx8ICcnLFxyXG4gICAgICAgIHJvbGU6IHJlc3VsdC5JdGVtLnJvbGUgfHwgJ21hbmFnZXInLFxyXG4gICAgICAgIHN0YXR1czogcmVzdWx0Lkl0ZW0uc3RhdHVzIHx8ICdhY3RpdmUnLFxyXG4gICAgICAgIHBlcm1pc3Npb25zOiByZXN1bHQuSXRlbS5wZXJtaXNzaW9ucyB8fCBnZXREZWZhdWx0UGVybWlzc2lvbnMocmVzdWx0Lkl0ZW0ucm9sZSB8fCAnbWFuYWdlcicpLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHJlc3VsdC5JdGVtLmNyZWF0ZWRBdCB8fCByZXN1bHQuSXRlbS5jcmVhdGVkX2F0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB1cGRhdGVkX2F0OiByZXN1bHQuSXRlbS51cGRhdGVkQXQgfHwgcmVzdWx0Lkl0ZW0udXBkYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGBBZG1pbjog66ek64uI7KCAICR7bWFuYWdlcklkfSDsobDtmowg7JmE66OMYCk7XHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKG1hbmFnZXIpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BBVENIJykge1xyXG4gICAgICBjb25zb2xlLmxvZyhgQWRtaW46IOunpOuLiOyggCAke21hbmFnZXJJZH0g7JeF642w7J207Yq4IOyLnOyekWApO1xyXG5cclxuICAgICAgLy8g6raM7ZWcIOqygOymnSAo7J6Q7Iug7J2YIOydtOumhOunjCDrs4Dqsr3tlZjripQg6rK97Jqw64qUIOygnOyZuClcclxuICAgICAgY29uc3QgdXBkYXRlRmllbGRzID0gcmVxLmJvZHk7XHJcbiAgICAgIGNvbnN0IGlzT25seU5hbWVVcGRhdGUgPSBPYmplY3Qua2V5cyh1cGRhdGVGaWVsZHMpLmxlbmd0aCA9PT0gMSAmJiB1cGRhdGVGaWVsZHMubmFtZTtcclxuICAgICAgXHJcbiAgICAgIGlmICghaXNPbmx5TmFtZVVwZGF0ZSkge1xyXG4gICAgICAgIC8vIOqwnOuwnCDtmZjqsr3sl5DshJzripQg6raM7ZWcIOqygOymnSDsmYTtmZRcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SnIOqwnOuwnCDtmZjqsr06IOq2jO2VnCDqsoDspp0g6rG064SI65yAJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEFkbWluIOq2jO2VnCDtmZXsnbggKGFkbWluIOyXre2VoOydhCDqsIDsp4QgTWFuYWdlcuunjCDsoJHqt7wg6rCA64qlKVxyXG4gICAgICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICAgICAgICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBKV1Qg7Yag7YGw7JeQ7IScIOunpOuLiOyggCBJRCDstpTstpztlZjsl6wg6raM7ZWcIO2ZleyduFxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnN1YnN0cmluZyg3KTtcclxuICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIGFueTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudE1hbmFnZXJJZCA9IGRlY29kZWQudXNlcklkO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8g7J6Q7Iug7J2YIOygleuztOqwgCDslYTri4jqs6AsIGFkbWluIOq2jO2VnOydtCDsl4bripQg6rK97JqwIOqxsOu2gFxyXG4gICAgICAgICAgICBpZiAoY3VycmVudE1hbmFnZXJJZCAhPT0gbWFuYWdlcklkICYmIGRlY29kZWQucm9sZSAhPT0gJ2FkbWluJykge1xyXG4gICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICfqtoztlZzsnbQg7JeG7Iq164uI64ukLicgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKHRva2VuRXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgdG9rZW4nIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UpyDsnpDsi6DsnZgg7J2066aEIOuzgOqyvTog6raM7ZWcIOqygOymnSDqsbTrhIjrnIAnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXBkYXRlUGFyYW1zOiBhbnkgPSB7XHJcbiAgICAgICAgVGFibGVOYW1lOiAnTWFuYWdlcnMnLFxyXG4gICAgICAgIEtleTogeyBpZDogbWFuYWdlcklkIH0sXHJcbiAgICAgICAgVXBkYXRlRXhwcmVzc2lvbjogJ1NFVCB1cGRhdGVkQXQgPSA6dXBkYXRlZF9hdCcsXHJcbiAgICAgICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczoge1xyXG4gICAgICAgICAgJzp1cGRhdGVkX2F0JzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBFeHByZXNzaW9uQXR0cmlidXRlTmFtZXM6IHt9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAodXBkYXRlRmllbGRzLm5hbWUpIHtcclxuICAgICAgICB1cGRhdGVQYXJhbXMuVXBkYXRlRXhwcmVzc2lvbiArPSAnLCAjbmFtZSA9IDpuYW1lJztcclxuICAgICAgICB1cGRhdGVQYXJhbXMuRXhwcmVzc2lvbkF0dHJpYnV0ZU5hbWVzWycjbmFtZSddID0gJ25hbWUnO1xyXG4gICAgICAgIHVwZGF0ZVBhcmFtcy5FeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzWyc6bmFtZSddID0gdXBkYXRlRmllbGRzLm5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHVwZGF0ZUZpZWxkcy5lbWFpbCkge1xyXG4gICAgICAgIHVwZGF0ZVBhcmFtcy5VcGRhdGVFeHByZXNzaW9uICs9ICcsIGVtYWlsID0gOmVtYWlsJztcclxuICAgICAgICB1cGRhdGVQYXJhbXMuRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlc1snOmVtYWlsJ10gPSB1cGRhdGVGaWVsZHMuZW1haWw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHVwZGF0ZUZpZWxkcy5yb2xlKSB7XHJcbiAgICAgICAgdXBkYXRlUGFyYW1zLlVwZGF0ZUV4cHJlc3Npb24gKz0gJywgcm9sZSA9IDpyb2xlJztcclxuICAgICAgICB1cGRhdGVQYXJhbXMuRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlc1snOnJvbGUnXSA9IHVwZGF0ZUZpZWxkcy5yb2xlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh1cGRhdGVGaWVsZHMucGVybWlzc2lvbnMpIHtcclxuICAgICAgICB1cGRhdGVQYXJhbXMuVXBkYXRlRXhwcmVzc2lvbiArPSAnLCAjcGVybXMgPSA6cGVybWlzc2lvbnMnO1xyXG4gICAgICAgIHVwZGF0ZVBhcmFtcy5FeHByZXNzaW9uQXR0cmlidXRlTmFtZXNbJyNwZXJtcyddID0gJ3Blcm1pc3Npb25zJztcclxuICAgICAgICB1cGRhdGVQYXJhbXMuRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlc1snOnBlcm1pc3Npb25zJ10gPSB1cGRhdGVGaWVsZHMucGVybWlzc2lvbnM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IFVwZGF0ZUNvbW1hbmQodXBkYXRlUGFyYW1zKSk7XHJcblxyXG4gICAgICAvLyDsl4XrjbDsnbTtirjrkJwg642w7J207YSwIOyhsO2ajFxyXG4gICAgICBjb25zdCBnZXRQYXJhbXMgPSB7XHJcbiAgICAgICAgVGFibGVOYW1lOiAnTWFuYWdlcnMnLFxyXG4gICAgICAgIEtleTogeyBpZDogbWFuYWdlcklkIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IEdldENvbW1hbmQoZ2V0UGFyYW1zKSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXJlc3VsdC5JdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ01hbmFnZXIgbm90IGZvdW5kJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbWFuYWdlciA9IHtcclxuICAgICAgICBpZDogcmVzdWx0Lkl0ZW0uaWQgfHwgJycsXHJcbiAgICAgICAgZW1haWw6IHJlc3VsdC5JdGVtLmVtYWlsIHx8ICcnLFxyXG4gICAgICAgIG5hbWU6IHJlc3VsdC5JdGVtLm5hbWUgfHwgJycsXHJcbiAgICAgICAgcm9sZTogcmVzdWx0Lkl0ZW0ucm9sZSB8fCAnbWFuYWdlcicsXHJcbiAgICAgICAgc3RhdHVzOiByZXN1bHQuSXRlbS5zdGF0dXMgfHwgJ2FjdGl2ZScsXHJcbiAgICAgICAgcGVybWlzc2lvbnM6IHJlc3VsdC5JdGVtLnBlcm1pc3Npb25zIHx8IGdldERlZmF1bHRQZXJtaXNzaW9ucyhyZXN1bHQuSXRlbS5yb2xlIHx8ICdtYW5hZ2VyJyksXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcmVzdWx0Lkl0ZW0uY3JlYXRlZEF0IHx8IHJlc3VsdC5JdGVtLmNyZWF0ZWRfYXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHJlc3VsdC5JdGVtLnVwZGF0ZWRBdCB8fCByZXN1bHQuSXRlbS51cGRhdGVkX2F0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYEFkbWluOiDrp6Tri4jsoIAgJHttYW5hZ2VySWR9IOyXheuNsOydtO2KuCDsmYTro4xgKTtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24obWFuYWdlcik7XHJcblxyXG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnREVMRVRFJykge1xyXG4gICAgICBjb25zb2xlLmxvZyhgQWRtaW46IOunpOuLiOyggCAke21hbmFnZXJJZH0g7IKt7KCcIOyLnOyekWApO1xyXG5cclxuICAgICAgLy8g7IKt7KCc7ZWgIOunpOuLiOyggCDsoJXrs7Qg7KGw7ZqMXHJcbiAgICAgIGNvbnN0IGdldFBhcmFtcyA9IHtcclxuICAgICAgICBUYWJsZU5hbWU6ICdNYW5hZ2VycycsXHJcbiAgICAgICAgS2V5OiB7IGlkOiBtYW5hZ2VySWQgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgbWFuYWdlclJlc3VsdCA9IGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IEdldENvbW1hbmQoZ2V0UGFyYW1zKSk7XHJcbiAgICAgIGlmICghbWFuYWdlclJlc3VsdC5JdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ01hbmFnZXIgbm90IGZvdW5kJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbWFuYWdlclRvRGVsZXRlID0gbWFuYWdlclJlc3VsdC5JdGVtO1xyXG5cclxuICAgICAgLy8g66ek64uI7KCAIOyCreygnFxyXG4gICAgICBjb25zdCBkZWxldGVQYXJhbXMgPSB7XHJcbiAgICAgICAgVGFibGVOYW1lOiAnTWFuYWdlcnMnLFxyXG4gICAgICAgIEtleTogeyBpZDogbWFuYWdlcklkIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IGR5bmFtb2RiLnNlbmQobmV3IERlbGV0ZUNvbW1hbmQoZGVsZXRlUGFyYW1zKSk7XHJcblxyXG4gICAgICAvLyDroZzqt7gg6riw66GdXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICAgICAgaWYgKGF1dGhIZWFkZXIgJiYgYXV0aEhlYWRlci5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcclxuICAgICAgICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNyk7XHJcbiAgICAgICAgICAvLyDthqDtgbDsl5DshJwg66ek64uI7KCAIElEIOy2lOy2nCAo7Iuk7KCc66Gc64qUIEpXVCDrlJTsvZTrlKkg7ZWE7JqUKVxyXG4gICAgICAgICAgY29uc3QgY3VycmVudE1hbmFnZXJJZCA9ICdhZG1pbic7IC8vIOyehOyLnOuhnCBhZG1pbuycvOuhnCDshKTsoJVcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgYXdhaXQgZGF0YVNlcnZpY2UubG9nTWFuYWdlckFjdGlvbihcclxuICAgICAgICAgICAgY3VycmVudE1hbmFnZXJJZCxcclxuICAgICAgICAgICAgJ21hbmFnZXJfZGVsZXRlJyxcclxuICAgICAgICAgICAgbWFuYWdlcklkLFxyXG4gICAgICAgICAgICBg66ek64uI7KCAIOyCreygnDogJHttYW5hZ2VyVG9EZWxldGUubmFtZX0gKCR7bWFuYWdlclRvRGVsZXRlLmVtYWlsfSlgXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfroZzqt7gg6riw66GdIOyLpO2MqDonLCBsb2dFcnJvcik7XHJcbiAgICAgICAgLy8g66Gc6re4IOq4sOuhnSDsi6TtjKjtlbTrj4Qg7IKt7KCc64qUIOqzhOyGjSDsp4TtlolcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYEFkbWluOiDrp6Tri4jsoIAgJHttYW5hZ2VySWR9IOyCreygnCDsmYTro4xgKTtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnTWFuYWdlciBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQWRtaW46IOunpOuLiOyggCDqtIDrpqwg7Jik66WYOicsIGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgIG1lc3NhZ2U6ICfrp6Tri4jsoIAg6rSA66asIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJEeW5hbW9EQkNsaWVudCIsIkR5bmFtb0RCRG9jdW1lbnRDbGllbnQiLCJHZXRDb21tYW5kIiwiVXBkYXRlQ29tbWFuZCIsIkRlbGV0ZUNvbW1hbmQiLCJBV1NfQ09ORklHIiwiRGF0YVNlcnZpY2UiLCJqd3QiLCJKV1RfU0VDUkVUIiwiZ2V0RGVmYXVsdFBlcm1pc3Npb25zIiwicm9sZSIsImJhc2VQZXJtaXNzaW9ucyIsInVzZXJfbWFuYWdlbWVudCIsInJlYWQiLCJ3cml0ZSIsImRlbGV0ZSIsIm1hdGNoaW5nX21hbmFnZW1lbnQiLCJyZXZpZXdfbWFuYWdlbWVudCIsInBvaW50X21hbmFnZW1lbnQiLCJtYW5hZ2VyX21hbmFnZW1lbnQiLCJtYW5hZ2VyX2xvZ3MiLCJkYXNoYm9hcmQiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwiYWNjIiwia2V5IiwiY2xpZW50IiwiZHluYW1vZGIiLCJmcm9tIiwiZGF0YVNlcnZpY2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWFuYWdlcklkIiwicXVlcnkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInByb2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhcnRzV2l0aCIsIm1ldGhvZCIsInBhcmFtcyIsIlRhYmxlTmFtZSIsIktleSIsImlkIiwicmVzdWx0Iiwic2VuZCIsIkl0ZW0iLCJtYW5hZ2VyIiwiZW1haWwiLCJuYW1lIiwicGVybWlzc2lvbnMiLCJjcmVhdGVkX2F0IiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsInVwZGF0ZWRBdCIsInVwZGF0ZUZpZWxkcyIsImJvZHkiLCJpc09ubHlOYW1lVXBkYXRlIiwibGVuZ3RoIiwidG9rZW4iLCJzdWJzdHJpbmciLCJkZWNvZGVkIiwidmVyaWZ5IiwiY3VycmVudE1hbmFnZXJJZCIsInVzZXJJZCIsInRva2VuRXJyb3IiLCJ1cGRhdGVQYXJhbXMiLCJVcGRhdGVFeHByZXNzaW9uIiwiRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlcyIsIkV4cHJlc3Npb25BdHRyaWJ1dGVOYW1lcyIsImdldFBhcmFtcyIsIm1hbmFnZXJSZXN1bHQiLCJtYW5hZ2VyVG9EZWxldGUiLCJkZWxldGVQYXJhbXMiLCJsb2dNYW5hZ2VyQWN0aW9uIiwibG9nRXJyb3IiLCJlcnJvciIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/admin/managers/[managerId].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fmanagers%2F%5BmanagerId%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cadmin%5Cmanagers%5C%5BmanagerId%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();